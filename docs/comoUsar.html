<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RankAdmet</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&display=swap" rel="stylesheet">

</head>
<body class="Rankadmet-body">
    <div class="overlay" id="overlay"></div>
    <div class="main-content">
        <header>
            <div class="container-header">
                <i class="fas fa-times" id="closeBtn"></i>
                <i class="fas fa-bars" id="menuBtn"></i>
                <a class="conteiner-logo" href="index.html"><h1>RankAdmet</h1></a>
            </div>
        </header>
        <main id="main-content">
                <div id ="cli">
                    <div class="sidebar">
                        <nav class="sidebar-nav">
                            <a href="index.html"><i class="fas fa-home"></i> Início</a>
                            <a href="tutorialdownload.html?section=intro"><i class="fas fa-download"></i> Instalação</a>
                            <a href="comoUsar.html?section=intro"><i class="fas fa-code"></i> Como Usar</a>
                             <div class="sidebar-summary">
                            <h4>Sumário</h4>
                            <a href="#Resumos"><i class="fas fa-list"></i> Resumos</a>
                            <a href="#Fluxo"><i class="fas fa-project-diagram"></i> Fluxo Geral</a>
                            <a href="#Venv"><i class="fas fa-terminal"></i> Ativando Venv</a>
                            <a href="#Padrao"><i class="fas fa-cogs"></i> Módulo Padrão</a>
                            <a href="#Auto"><i class="fas fa-robot"></i> Módulo Automático</a>
                            <a href="#Adapt"><i class="fas fa-sync-alt"></i> Módulo Adapt</a>
                            </div>
                        </nav>
                    </div>
                    <h2>Instruções de Uso</h2>                   
                    <div class="card-explicacao">
                       <h3>Resumo de Comandos</h3>
                        <div class="card-explicacao-inner">
                            <h3>Gerar Planilha de Scores</h3>
                            <p>Para gerar a planilha de scores, é necessário fornecer um arquivo nos formatos .sdf,.smi ou .csv
                            <div class="library">
                                <span class="reservada">rankadmet</span> <span class="comentario">-i</span> minimized_results.sdf
                            </div>
                            <div class="library">
                                <span class="reservada">rankadmet</span> <span class="comentario">--smi</span> <span class="comentario">-i</span> arquivo.csv
                                <span class="reservada">rankadmet</span> <span class="comentario">--smi</span> <span class="comentario">-i</span> arquivo.smi
                            </div>
                            <p>Também é possível informar o caminho de uma pasta contendo os arquivos de entrada:</p>
                            <div class="library">
                                <span class="reservada">rankadmet</span><span class="comentario"> -i</span> ./pasta/
                            </div>
                        </div>
                        
                        <div class="card-explicacao-inner">
                            <h3>Atualizar Planilha de Scores para a Nova Versão</h3>
                            <p>Essa funcionalidade não está mais disponível diretamente no rankadmet, mas pode ser acessada por meio de um programa auxiliar chamado lab2ai:
                            <div class="library">
                                <span class="reservada">lab2ai</span> <span class="comentario">-i</span> rankadmet_admetai.xlsx
                            </div>
                        </div>
                    </div>
            </div>
            <div id="lib">
                <div class="sidebar">
                    <nav class="sidebar-nav">
                        <a href="index.html"><i class="fas fa-home"></i> Início</a>
                        <a href="tutorialdownload.html?section=intro"><i class="fas fa-download"></i> Instalação</a>
                        <a href="comoUsar.html?section=intro"><i class="fas fa-code"></i> Como Usar</a>
                         <div class="sidebar-summary">
                        <h4>Sumário</h4>
                        <a href="#Instalacao"><i class="fas fa-download"></i> Instalação</a>
                        <a href="#Preparacao"><i class="fas fa-folder-open"></i> Preparação</a>
                        <a href="#ADMET"><i class="fas fa-file-csv"></i> Planilhas ADMET</a>
                        <a href="#Scores"><i class="fas fa-chart-line"></i> Planilha de Scores</a>
                        </div>
                    </nav>
                </div>
                <h2 id="Instalacao">Tutorial Biblioteca</h2>
                <p></p>
                <div class="card-explicacao">
                    <h3>Instalação</h3>
                    <p>Para instalar a biblioteca, acesse o repositório através <span><a href="https://bit.ly/4jq4QDB" target="_blank">deste link</a></span> e baixe o arquivo .whl. Como se trata de uma biblioteca Python, você pode instalá-la utilizando o arquivo .whl com o comando pip install. Assim instalando em um ambiente virtual do seu projeto de desenvolvimento.</p>
                </div>
                <div class="card-explicacao">
                    <h3>Como Usar</h3>
                    <p id ="Preparacao">Como observado no quadro de fluxo geral, a biblioteca foi desenvolvida para otimizar esse fluxo descrito, abrangendo as etapas de preparação dos arquivos para envio aos sites do ADMETLab3.0 e swissadmet,e a geração da planilha de scores. No que diz respeito à obtenção da planilha do ADMET, essa etapa precisa ser realizada diretamente no site no caso do SwissADME. No entanto, no ADMETLab3.0, eles disponibilizam uma API, <span><a href="https://admetlab3.scbdd.com/apis/#/" target="_blank">neste link</a></span>, permitindo que seu código automatize também essa etapa.</p>
                    <div class="card-explicacao-inner">
                        <h3>Preparação</h3>
                        <p>Essa parte consiste em ter como arquivo de entrada um .sdf que está muito grande para se colocar no admetlab, então ele será fracionado em varios sdf com 299 moleculas cada por padrão. Ou quando se tem um sdf e quer ter a lista de smiles das moleculas deste sdf para poder colocar em sites que aceitam apenas uma lista de smiles como o swissadmet. Essa etapa cria duas pastas a batchs, que tem os sdfs fracionados, e a addon, que tem a lista de smiles das moleculas do sdf.</p>
                        <div class="library">
                            <span class="import">import</span> <span class="string">rankadmet</span>
                            <br><br>
                            <span class="comentario"># Os Parametos são:</span><br>
                            <span class="comentario"># input_file: str -> Caminho do arquivo de entrada</span><br>
                            <span class="comentario"># batch_size: int = 299 -> Tamanho do batch</span><br>
                            <span class="comentario"># affinity_cutoff: float = None -> Filtro de afinidade</span><br>
                            <span class="comentario"># no_batch: bool = False -> Flag para processar sem produzir os batchs apenas o addon</span><br>
                            <span class="comentario"># verbose: bool = False -> Se True mostrar mensagens de log</span><br><br>
                            <span class="comentario"># Caminho do arquivo</span><br>
                            <span class="string">rankadmet</span>.<span class="string">Addon</span>().<span class="string">make_addon</span>(<span class="reservada">'arquivo.sdf'</span>,<span class="funcao">affinity_cutoff</span>=<span class="numero">-7</span>)
                            <br id="ADMET"><br>
                            <span class="comentario"># Para processar mais de um arquivo, basta colocar os caminhos dos arquivos numa lista</span><br>
                            input = [<span class="reservada">'arquivo1.sdf'</span>, <span class="reservada">'arquivo2.sdf'</span>]
                            <br>
                            <span class="comentario"># E interar sobre a lista</span><br>
                            <span class="import">for</span> i <span class="import">in</span> input:
                            <br>
                            &nbsp;&nbsp;&nbsp;&nbsp;<span class="string">rankadmet</span>.<span class="string">Addon</span>().<span class="string">make_addon</span>(i, <span class="funcao">affinity_cutoff</span>=<span class="numero">-7</span>)
                            
                        </div>
                    </div>
                    <div class="card-explicacao-inner">
                        <h3>Planilhas ADMET: Obtenção das Análises ADMET</h3>
                        <p>Etapa feita fora do programa, ela é necessária para se obter as análises ADMET das moléculas. Acesse o site ADMETlab 3.0 e processe os arquivos SDF criados individualmente. Já no SwissAdme o site recebe uma lista de smiles, que pode ser obtida pelo arquivo csv auxiliar que o rankadmet gera.<br>
                        <div class="fluxo-grafico">
                            <div class="etapa mob-fluxo">
                                <p><strong>Envie os arquivos SDF ao Admetlab</strong><br> Acesse o site <span><a href="https://admetlab3.scbdd.com/server/screening" target="_blank">AdmetLab 3.0</a></span> e envie os arquivos SDF menores gerados pelo Rankadmet que estão na pasta batchs.</p>
                            </div>
                            <div class="etapa mob-fluxo">
                                <p><strong>Ou Coloque a Lista de Smiles no SwissAdme</strong><br> Acesse o site <span><a href="http://www.swissadme.ch/" target="_blank">SwissAdme</a></span> e coloque a lista de smiles que se encontra no arquivo auxiliar na pasta addon.</p>
                            </div>
                            <div class="etapa mob-fluxo">
                                <p id="Scores"><strong>Baixe os arquivos CSV</strong><br> Baixe o csv da analise ADMET e o renomeie para corresponder ao arquivo que originou essa analise. Faça isso com todos, é uma maneira de manter organizado.</p>
                            </div>
                        </div>
                    </div>
                    <div class="card-explicacao-inner">
                        <h3>Criação da planilha de Scores</h3>
                        <p>Após o download das análises, os arquivos obtidos podem ser utilizados para gerar a planilha de scores. O comando não apenas cria a planilha de scores, mas também gera uma planilha auxiliar contendo as 50 melhores moléculas. Esse número pode ser ajustado conforme necessário por meio de um parâmetro opcional.</p>

                        <p>A planilha de scores é acumulativa. Isso significa que, caso o usuário gere a planilha mais de uma vez, o programa concatenará os novos dados com os já existentes na planilha localizada na pasta onde está sendo executado. Em seguida, ela será classificada e ordenada da melhor para a pior molécula.</p>
                        
                        <p>Além disso, é possível adicionar informações extras à planilha de scores utilizando um outro parâmetro opcional. Essas informações adicionais são extraídas de arquivos SDF, ou do CSV que estar na pasta "addon".</p>
                        
                        <p>No quadro abaixo tem a lista de parametros e o que eles fazem, além de um exemplo </p>
                        <div class="library">
                            <span class="import">import</span><span class="string"> rankadmet</span>
                            <br>
                            <span class="import">import</span> <span class="string">pandas</span><span class="import"> as</span> <span class="string">pd</span>
                            <br><br>
                            <span class="comentario"># Os Parametros são:</span><br>
                            <span class="comentario"># input: str -> Caminho do arquivo de entrada</span><br>
                            <span class="comentario"># addon: str = None -> Caminho do arquivo addon</span><br>
                            <span class="comentario"># top_hits: int = 50 -> Quantidade de moleculas na planilha de melhores</span><br>
                            <span class="comentario"># verbose: bool = False -> Se True mostrar mensagens de log</span><br><br>
                            <span class="comentario"># Caminho do arquivo</span><br>
                            <span class="string">rankadmet</span>.<span class="string">Evaluate</span>().<span class="string">admetlab</span>(<span class="reservada">'arquivo.csv'</span>, <span class="funcao">addon</span>=<span class="reservada">'addon.csv'</span>, <span class="funcao">top_hits</span>=<span class="numero">50</span>, <span class="funcao">verbose</span>=True)
                            <br><br>
                            <span class="comentario"># Ou DF</span><br>
                            df = <span class="string">pd</span>.<span class="string">read_csv</span>(<span class="reservada">'arquivo.csv'</span>)<br>
                            df_addon = <span class="string">pd</span>.<span class="string">read_csv</span>(<span class="reservada">'addon.csv'</span>)<br><br>
                            <span class="string">rankadmet</span>.<span class="string">Evaluate</span>().<span class="string">admetlab</span>(df, <span class="funcao">addon</span>=df_addon, <span class="funcao">top_hits</span>=<span class="numero">50</span>, <span class="funcao">verbose</span>=True)
                            <br><br>
                            <span class="comentario"># Ou lista dos caminhos ou dfs</span><br>
                            input = [<span class="reservada">'arquivo1.csv'</span>, <span class="reservada">'arquivo2.csv'</span>]
                            <br>
                            <span class="import">for</span> i <span class="import">in</span> input:
                            <br>
                            &nbsp;&nbsp;&nbsp;&nbsp;<span class="string">rankadmet</span>.<span class="string">Evaluate</span>().<span class="string">admetlab</span>(i, <span class="funcao">addon</span>=<span class="reservada">'addon.csv'</span>,  <span class="funcao">top_hits</span>=<span class="numero">50</span>, <span class="funcao">verbose</span>=True)
                        </div>
                    </div>
                </div>
            </div>
            <div id="intro">
                <div class="sidebar">
                    <nav class="sidebar-nav">
                        <a href="index.html"><i class="fas fa-home"></i> Início</a>
                        <a href="tutorialdownload.html?section=intro"><i class="fas fa-download"></i> Instalação</a>
                        <a href="comoUsar.html?section=intro"><i class="fas fa-code"></i> Como Usar</a>        
                        <div class="sidebar-summary">
                            <h4>Contato</h4>
                            <p>Para reportar bugs, enviar sugestões ou esclarecer dúvidas, você pode entrar em contato por e-mail ou abrir uma issue no repositório do GitHub dedicado à instalação do software.</p>
                            <ul>
                                <li class=""><a href="mailto:jcaxavier@gmail.com?subject=Reportar%20Bug&body=Descreva%20o%20problema%20aqui.">
                                    <i class="fas fa-envelope"></i> Enviar e-mail</a>
                                </li>
                                <li class="">
                                    <a href="https://github.com/Lambda-UFPB/bin/issues" target="_blank"><i class="fas fa-exclamation-circle"></i> Abrir Issue</a>
                                </li>
                            </ul>
                        </div>                 
                    </nav>
                </div>
                <h2>Selecione o Modo</h2>
                <p id="Padrao"></p>
            </div>
            </section>
        </main>
        <footer>
            <div class="container">
                <p>Laboratório Multiusuário de Bioinformática e Análise de Dados<br>
                    Orientando: Júlio César Albuquerque Xavier<br>
                    Orientador: Prof. Dr. Edson Luiz Folador</p>
                <p class="footer-logo">RankAdmet</p>
            </div>
        </footer>
    </div>
    <script>
        const menuBtn = document.getElementById('menuBtn');
        const closeBtn = document.getElementById('closeBtn');
        const sidebars = document.querySelectorAll('.sidebar');
        const overlay = document.getElementById('overlay');
    
        menuBtn.addEventListener('click', () => {
            sidebars.forEach(sidebar => sidebar.classList.add('active'));
            overlay.classList.add('active');
            menuBtn.classList.add('active');
            closeBtn.classList.add('active');
        });
    
        closeBtn.addEventListener('click', () => {
            sidebars.forEach(sidebar => sidebar.classList.remove('active'));
            overlay.classList.remove('active');
            menuBtn.classList.remove('active'); 
            closeBtn.classList.remove('active'); 
        });
    
        overlay.addEventListener('click', () => {
            sidebars.forEach(sidebar => sidebar.classList.remove('active'));
            overlay.classList.remove('active');
            menuBtn.classList.remove('active');
            closeBtn.classList.remove('active');
        });
    </script>
        <script>
            menuBtn.addEventListener('click', () => {
                sidebar.classList.add('active');
                overlay.classList.add('active');
                closeBtn.style.display = 'block';
            });
            
            closeBtn.addEventListener('click', () => {
                sidebar.classList.remove('active');
                overlay.classList.remove('active');
                closeBtn.style.display = 'none';
            });
            
            overlay.addEventListener('click', () => {
                sidebar.classList.remove('active');
                overlay.classList.remove('active');
                closeBtn.style.display = 'none';
            });
        </script>
        <script>
            let startX = 0;
            let isDragging = false;

            document.addEventListener('touchstart', (e) => {
                startX = e.touches[0].clientX;
                isDragging = true;
            });

            document.addEventListener('touchmove', (e) => {
                if (!isDragging) return;

                const touchX = e.touches[0].clientX;

                if (touchX > startX && startX < 50) {
                    sidebar.classList.add('active');
                    closeBtn.style.display = 'block';
                    overlay.classList.add('active');
                }
            });

            document.addEventListener('touchend', () => {
                isDragging = false;
            });
        </script>
        <script>
            document.getElementById('lib').style.display = 'none';
            document.getElementById('intro').style.display = 'none';

            const urlParams = new URLSearchParams(window.location.search);
            const section = urlParams.get('section');

            document.addEventListener('DOMContentLoaded', () => {
            if (section === 'lib') {
                document.getElementById('libCard').click();
            } 
            if (section === 'cli') {
                document.getElementById('cmdCard').click();
            }
            });
            if (section === 'intro') {
            document.getElementById('intro').style.display = 'block';
            }

            document.getElementById('cmdCard').addEventListener('click', () => {
            document.getElementById('cli').style.display = 'block';
            document.getElementById('lib').style.display = 'none';
            document.getElementById('intro').style.display = 'none';
            document.getElementById('cmdCard').style.borderColor = 'aqua';
            document.getElementById('libCard').style.borderColor = '#DEC333';
            });

            document.getElementById('libCard').addEventListener('click', () => {
            document.getElementById('cli').style.display = 'none';
            document.getElementById('lib').style.display = 'block';
            document.getElementById('intro').style.display = 'none';
            document.getElementById('libCard').style.borderColor = 'aqua';
            document.getElementById('cmdCard').style.borderColor = '#DEC333';
            });
        </script>
</body>
</html>
